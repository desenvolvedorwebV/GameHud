<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simulador de Tempo Para Games</title>
  <style>
    body {
      font-family: sans-serif;
      background: #f9f9f9;
      color: #333;
      text-align: center;
    }

    #hud-tempo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      width: 360px;
      margin: 20px auto;
      font-size: 1.2em;
      background: #fff;
      padding: 8px 14px;
      border-radius: 12px;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
    }

    .grupo-info {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 1em;
      font-weight: 500;
    }

    .grupo-horario {
      display: flex;
      align-items: center;
      gap: 4px;
      flex-grow: 1;
    }

    .icon {
      width: 24px;
      height: 24px;
      object-fit: contain;
      cursor: pointer;
    }

    #barra-container {
      position: relative;
      flex-grow: 1;
      height: 12px;
      background: #ddd;
      border-radius: 20px;
      overflow: hidden;
      min-width: 100px;
    }

    #barra-progresso {
      height: 100%;
      width: 0%;
      transition: width 0.2s linear, background-color 0.3s ease;
      border-radius: 20px;
    }

    #hora-visivel {
      font-weight: 500;
      min-width: 55px;
      text-align: left;
    }
  </style>
</head>
<body>
  <div id="hud-tempo">
    <div class="grupo-info">
      <img class="icon" src="imagens/dia.png" alt="Dia" />
      <span id="dia-texto">0000</span>
    </div>

    <div class="grupo-horario">
      <img class="icon" id="emoji-img" src="imagens/noite.png" alt="Emoji" />
      <span id="hora-visivel">00:00</span>
      <div id="barra-container">
        <div id="barra-progresso"></div>
      </div>
    </div>

    <!-- Botão para velocidade -->
    <div class="grupo-info">
      <img
        id="btn-velocidade"
        class="icon"
        src="imagens/vel10min.png"
        alt="Velocidade"
        title="Clique para mudar a velocidade"
      />
    </div>
  </div>

  <script>
    // Array com as velocidades e seus ícones
      //{ valor: 1/600, icone: "velMundoReal.png" },
    const velocidades = [
      { valor: 10, icone: "imagens/vel10min.png" },
      { valor: 20, icone: "imagens/vel20min.png" },
      { valor: 30, icone: "imagens/vel30min.png" },
      { valor: 40, icone: "imagens/vel40min.png" },
      { valor: 50, icone: "imagens/vel50min.png" },
      { valor: 60, icone: "imagens/vel60min.png" }
    ];

    let indiceVelocidade = 0; // Começa com velocidade 1x
    let velocidade = velocidades[indiceVelocidade].valor;

    let minutosTotais = 0;
    const intervaloReal = 1000;

    let ultimoPeriodo = "";
    let ultimoDia = -1;

    const btnVelocidade = document.getElementById("btn-velocidade");

    // Função para alternar a velocidade
    btnVelocidade.addEventListener("click", () => {
      indiceVelocidade = (indiceVelocidade + 1) % velocidades.length; // Próxima velocidade em loop
      velocidade = velocidades[indiceVelocidade].valor;
      btnVelocidade.src = velocidades[indiceVelocidade].icone;
      console.log(`🚀 Velocidade alterada para ${velocidade / 10}x`);
    });

    function atualizarTempo() {
      minutosTotais += velocidade;

      const dias = Math.floor(minutosTotais / (24 * 60));
      const minutosDoDia = minutosTotais % (24 * 60);
      const horas = Math.floor(minutosDoDia / 60);
      const minutos = minutosDoDia % 60;

      const horasFormatadas = horas.toString().padStart(2, "0");
      const minutosFormatados = minutos.toString().padStart(2, "0");
      const horarioTexto = `${horasFormatadas}:${minutosFormatados}`;

      document.getElementById("hora-visivel").textContent = horarioTexto;
      document.getElementById("dia-texto").textContent = dias.toString().padStart(4, "0");

      const percentual = (minutosDoDia / 1440) * 100;
      const barra = document.getElementById("barra-progresso");
      const emojiImg = document.getElementById("emoji-img");

      if (horas >= 6 && horas < 12) {
        barra.style.backgroundColor = "#FFD700"; // manhã
        emojiImg.src = "imagens/manha.png";
        if (ultimoPeriodo !== "manha") {
          console.log(`🌅 Manhã começou: ${horarioTexto}`);
          ultimoPeriodo = "manha";
        }
      } else if (horas >= 12 && horas < 18) {
        barra.style.backgroundColor = "#FFA500"; // tarde
        emojiImg.src = "imagens/tarde.png";
        if (ultimoPeriodo !== "tarde") {
          console.log(`🌞 Tarde começou: ${horarioTexto}`);
          ultimoPeriodo = "tarde";
        }
      } else {
        barra.style.backgroundColor = "#6A5ACD"; // noite
        emojiImg.src = "imagens/noite.png";
        if (ultimoPeriodo !== "noite") {
          console.log(`🌙 Noite começou: ${horarioTexto}`);
          ultimoPeriodo = "noite";
        }
      }

      barra.style.width = `${percentual}%`;

      if (dias !== ultimoDia) {
        console.log(`🗓️ Novo dia começou: Dia ${dias}`);
        ultimoDia = dias;
      }
    }
    setInterval(atualizarTempo, intervaloReal);
  </script>
</body>
</html>
